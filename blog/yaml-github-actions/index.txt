1:HL["/_next/static/media/0703289cbb03d1b5-s.p.woff2",{"as":"font","type":"font/woff2"}]
2:HL["/_next/static/media/2f66d2cded5eb62b-s.p.woff2",{"as":"font","type":"font/woff2"}]
3:HL["/_next/static/media/4195ccbd93429073-s.p.woff2",{"as":"font","type":"font/woff2"}]
4:HL["/_next/static/media/4b25ba58b96bf829-s.p.woff2",{"as":"font","type":"font/woff2"}]
5:HL["/_next/static/media/5191fc87febab105-s.p.woff2",{"as":"font","type":"font/woff2"}]
6:HL["/_next/static/media/6f4b1b8a3bb362a3-s.p.woff2",{"as":"font","type":"font/woff2"}]
7:HL["/_next/static/media/a155a31b509d9798-s.p.woff2",{"as":"font","type":"font/woff2"}]
8:HL["/_next/static/media/b1373ee6909ce2f4-s.p.woff2",{"as":"font","type":"font/woff2"}]
9:HL["/_next/static/media/b817805ccb9a2b4a-s.p.woff2",{"as":"font","type":"font/woff2"}]
a:HL["/_next/static/media/be78684d432e3822-s.p.woff2",{"as":"font","type":"font/woff2"}]
b:HL["/_next/static/media/c8897484f20cb9bc-s.p.woff2",{"as":"font","type":"font/woff2"}]
c:HL["/_next/static/media/dd2c1f56eea99b69-s.p.woff2",{"as":"font","type":"font/woff2"}]
d:HL["/_next/static/media/e6581a79ce8b3a05-s.p.woff2",{"as":"font","type":"font/woff2"}]
e:HL["/_next/static/media/ee0a4d0f22f144a3-s.p.woff2",{"as":"font","type":"font/woff2"}]
f:HL["/_next/static/css/977d1d7dce9616c2.css",{"as":"style"}]
0:[[["",{"children":["(index)",{"children":["blog",{"children":[["slug","yaml-github-actions","c"],{"children":["__PAGE__?{\"slug\":[\"yaml-github-actions\"]}",{}]}]}]}]},"$undefined","$undefined",true],"$L10",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/977d1d7dce9616c2.css","precedence":"next"}]],["$L11",["$","meta",null,{"name":"next-size-adjust"}]]]]]
12:I{"id":"4463","chunks":["272:static/chunks/webpack-c200c6e00bd997f7.js","667:static/chunks/2443530c-fe8a3ff91893978a.js","488:static/chunks/488-bd69b34d4894242d.js"],"name":"","async":false}
13:I{"id":"1010","chunks":["272:static/chunks/webpack-c200c6e00bd997f7.js","667:static/chunks/2443530c-fe8a3ff91893978a.js","488:static/chunks/488-bd69b34d4894242d.js"],"name":"","async":false}
15:I{"id":"8920","chunks":["755:static/chunks/755-7e2faf694a7bfeaf.js","343:static/chunks/343-3e2ffcc2b91d87fc.js","594:static/chunks/app/(index)/projects/[project]/play/page-7747e42a9a68e3a9.js"],"name":"","async":false}
10:[["$","html",null,{"lang":"en","className":"light __variable_5369a0 __variable_822190","children":[["$","head",null,{}],["$","body",null,{"children":["$","div",null,{"id":"__next","children":["$","div",null,{"className":"flex min-h-screen flex-col text-zinc-900 bg-zinc-100 dark-mode:text-neutral-800","children":["$","$L12",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L13",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":[["$","main",null,{"className":"min-w-0 box-border m-0 flex grow","style":"$undefined","children":["$","div",null,{"className":"min-w-0 box-border m-0 flex flex-col grow gap-y-0 max-h-screen overflow-y-auto","style":"$undefined","children":[["$","div",null,{"className":"min-w-0 box-border m-0 grow flex flex-col mx-auto w-full max-w-container [max-width:960px] px-4 sm:px-6 lg:px-8 py-2 sm:py-3 lg:py-4","style":"$undefined","children":[["$","$L12",null,{"parallelRouterKey":"children","segmentPath":["children","(index)","children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L13",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L12",null,{"parallelRouterKey":"children","segmentPath":["children","(index)","children","blog","children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L13",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L12",null,{"parallelRouterKey":"children","segmentPath":["children","(index)","children","blog","children",["slug","yaml-github-actions","c"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L13",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$L14",null],"segment":"__PAGE__?{\"slug\":[\"yaml-github-actions\"]}"},"styles":[]}],"segment":["slug","yaml-github-actions","c"]},"styles":[]}],"segment":"blog"},"styles":[]}],["$","hr",null,{"className":"my-4 border-gray-200 dark-mode:border-zinc-300 mt-8 mb-2"}]]}],["$","$L15",null,{"href":"/","className":"min-w-0 box-border m-0 flex justify-center flex-row gap-x-0 pb-8","style":"$undefined","children":["$","span",null,{"className":"min-w-0 box-border m-0 flex flex-col-reverse gap-y-0 text-[#c7c7c6] dark-mode:text-[#2e2e2e]","style":"$undefined","children":[["$","span",null,{"className":"min-w-0 box-border m-0 [font-family:var(--font-serif)] text-5xl font-bold [font-size:2.4rem]","style":"$undefined","children":"Jaxson"}],["$","span",null,{"className":"min-w-0 box-border m-0 [font-family:var(--font-serif)] text-5xl italic font-light [margin-bottom:-8px] [margin-left:28px] [font-size:1.2rem]","style":"$undefined","children":"Van Doorn"}]]}]}]]}]}],null],"segment":"(index)"},"styles":[]}]}]}]}]]}],null]
11:[[["$","meta",null,{"charSet":"utf-8"}],["$","title",null,{"children":"NPM package deployment using YAML GitHub Actions | Jaxson Van Doorn"}],["$","meta",null,{"name":"description","content":"All-around developer, half-designer and tinkerer."}],null,null,["$","link",null,{"rel":"manifest","href":"/manifest.webmanifest"}],null,null,null,[["$","meta",null,{"name":"theme-color","content":"#f4f4f5"}]],null,["$","meta",null,{"name":"viewport","content":"width=device-width, initial-scale=1, viewport-fit=cover"}],["$","meta",null,{"name":"creator","content":"Jaxson Van Doorn"}],["$","meta",null,{"name":"publisher","content":"Jaxson Van Doorn"}],null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,[null,["$","meta",null,{"property":"og:title","content":"Jaxson Van Doorn"}],["$","meta",null,{"property":"og:description","content":"All-around developer, half-designer and tinkerer."}],null,null,null,null,null,[[["$","meta",null,{"property":"og:image:type","content":"image/png"}],["$","meta",null,{"property":"og:image","content":"https://jaxs.onl/meta-image.png"}],["$","meta",null,{"property":"og:image:alt","content":"Cover image for jaxs.onl"}],["$","meta",null,{"property":"og:image:width","content":"1200"}],["$","meta",null,{"property":"og:image:height","content":"630"}]]],null,null,null,null,null,null,"$undefined"],[["$","meta",null,{"name":"twitter:card","content":"summary_large_image"}],null,null,["$","meta",null,{"name":"twitter:creator","content":"@jaxsonvandoorn"}],null,["$","meta",null,{"name":"twitter:title","content":"NPM package deployment using YAML GitHub Actions"}],["$","meta",null,{"name":"twitter:description","content":"All-around developer, half-designer and tinkerer."}],[[["$","meta",null,{"name":"twitter:image","content":"https://jaxs.onl/meta-image.png"}],["$","meta",null,{"name":"twitter:image:alt","content":"Cover image for jaxs.onl"}]]],null,null],null,[[["$","link",null,{"rel":"shortcut icon","href":"/favicon.png"}]],[["$","link",null,{"rel":"icon","href":"/favicon.png"}]],[["$","link",null,{"rel":"apple-touch-icon","href":"/icons/mask-32x32.png","sizes":"32x32","type":"image/png"}],["$","link",null,{"rel":"apple-touch-icon","href":"/icons/mask-48x48.png","sizes":"48x48","type":"image/png"}],["$","link",null,{"rel":"apple-touch-icon","href":"/icons/mask-72x72.png","sizes":"72x72","type":"image/png"}],["$","link",null,{"rel":"apple-touch-icon","href":"/icons/mask-144x144.png","sizes":"144x144","type":"image/png"}],["$","link",null,{"rel":"apple-touch-icon","href":"/icons/mask-192x192.png","sizes":"192x192","type":"image/png"}],["$","link",null,{"rel":"apple-touch-icon","href":"/icons/mask-256x256.png","sizes":"256x256","type":"image/png"}],["$","link",null,{"rel":"apple-touch-icon","href":"/icons/mask-384x384.png","sizes":"384x384","type":"image/png"}],["$","link",null,{"rel":"apple-touch-icon","href":"/icons/mask-512x512.png","sizes":"512x512","type":"image/png"}]],[]]]
14:["$","article",null,{"className":"flex-grow pt-6 prose dark:prose-invert relative","children":[["$","div",null,{"className":"min-w-0 box-border m-0 absolute left-[-14px] top-[-14px] flex justify-end sm:top-[-22px] xl:hidden","style":"$undefined","children":["$","$L15",null,{"href":"/","className":"px-4 py-4 block","aria-label":"Back","children":["$","span",null,{"className":"min-w-0 box-border m-0 flex items-center flex-row gap-x-2 text-zinc-500 dark-mode:text-neutral-500","style":"$undefined","children":[["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 20 20","aria-hidden":"true","children":["$undefined",[["$","path","0",{"fillRule":"evenodd","d":"M7.793 2.232a.75.75 0 01-.025 1.06L3.622 7.25h10.003a5.375 5.375 0 010 10.75H10.75a.75.75 0 010-1.5h2.875a3.875 3.875 0 000-7.75H3.622l4.146 3.957a.75.75 0 01-1.036 1.085l-5.5-5.25a.75.75 0 010-1.085l5.5-5.25a.75.75 0 011.06.025z","clipRule":"evenodd","children":"$undefined"}]]],"className":"$undefined","style":{"color":"$undefined"},"height":"1em","width":"1em","xmlns":"http://www.w3.org/2000/svg"}],["$","span",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":"back"}]]}]}]}],["$","div",null,{"className":"min-w-0 box-border m-0 sticky hidden top-0 left-0 h-0 xl:block","style":"$undefined","children":["$","div",null,{"className":"min-w-0 box-border m-0 absolute top-[16px] left-[-160px]","style":"$undefined","children":["$","$L15",null,{"href":"/","className":"px-4 py-4 block","aria-label":"Back","children":["$","span",null,{"className":"min-w-0 box-border m-0 flex items-center flex-row gap-x-2 text-zinc-500 dark-mode:text-neutral-500","style":"$undefined","children":[["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 20 20","aria-hidden":"true","children":["$undefined",[["$","path","0",{"fillRule":"evenodd","d":"M7.793 2.232a.75.75 0 01-.025 1.06L3.622 7.25h10.003a5.375 5.375 0 010 10.75H10.75a.75.75 0 010-1.5h2.875a3.875 3.875 0 000-7.75H3.622l4.146 3.957a.75.75 0 01-1.036 1.085l-5.5-5.25a.75.75 0 010-1.085l5.5-5.25a.75.75 0 011.06.025z","clipRule":"evenodd","children":"$undefined"}]]],"className":"$undefined","style":{"color":"$undefined"},"height":"1em","width":"1em","xmlns":"http://www.w3.org/2000/svg"}],["$","span",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":"back"}]]}]}]}]}],false,[["$","h1",null,{"className":"min-w-0 box-border m-0 [font-family:var(--font-serif)] text-3xl font-medium mt-2.5 sm:mt-0","style":"$undefined","children":"NPM package deployment using YAML GitHub Actions"}],["$","p",null,{"className":"min-w-0 box-border m-0 text-lg sm:text-xl text-zinc-500 dark-mode:text-neutral-500","style":"$undefined","children":"Wednesday, August 21, 2019"}],["$","hr",null,{"className":"my-4 border-gray-200 dark-mode:border-zinc-300"}],[["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":["Recently ",["$","a",null,{"href":"http://github.com","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"GitHub"}]," announced that ",["$","a",null,{"href":"https://github.com/features/actions","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"GitHub Actions"}]," will be ",["$","a",null,{"href":"https://github.blog/2019-08-08-github-actions-now-supports-ci-cd/","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"moving away"}]," from the original ",["$","a",null,{"href":"https://github.com/hashicorp/hcl","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"HCL"}]," syntax in-favour of a ",["$","a",null,{"href":"https://yaml.org/","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"YAML"}]," format\nsimilar to ",["$","a",null,{"href":"https://travis-ci.org/","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"Travis CI"}]," and ",["$","a",null,{"href":"https://bitbucket.org/product/features/pipelines","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"Bitbucket Pipelines"}],".  This means that ",["$","a",null,{"href":"https://github.com/hashicorp/hcl","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"HCL"}]," style actions will no longer work ",["$","a",null,{"href":"https://developer.github.com/actions/","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"after September 30, 2019"}],".  It is possible to migrate using a ",["$","a",null,{"href":"https://help.github.com/en/articles/migrating-github-actions-from-hcl-syntax-to-yaml-syntax","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"migration script"}]," however in-some cases it may be required to reconfigure."]}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":["This particular issue occurred to me as actions which return a neutral result seem to fail the whole build with the ",["$","a",null,{"href":"https://yaml.org/","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"YAML"}]," format.  This means that using ",["$","a",null,{"href":"https://github.com/actions/bin/tree/master/filter/bin","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"actions/bin/filter"}]," to trigger a deploy would fail the build unless a release tag was found.  With this in mind, reconfiguring my ",["$","a",null,{"href":"https://github.com/features/actions","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"GitHub Actions"}]," seemed like the best choice."]}],"\n",["$","a",null,{"id":"orgb58448b"}],"\n",["$","h2",null,{"id":"desired-behaviour","className":"min-w-0 box-border m-0 [font-family:var(--font-serif)] text-xl sm:text-2xl font-medium mt-2 mb-1","style":"$undefined","children":[["$","a",null,{"href":"#desired-behaviour","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25 anchor","children":["$","span",null,{"className":"icon icon-link"}]}],"Desired Behaviour"]}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":["My particular use of ",["$","a",null,{"href":"https://github.com/features/actions","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"GitHub Actions"}]," is for deploying my small ",["$","a",null,{"href":"https://docs.npmjs.com/creating-node-js-modules","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"NPM packages"}],"."]}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":"To keep it simple I wanted the following to occur:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"Install dependencies, Build and Test package on each commit"}],"\n",["$","li",null,{"children":"Publish package if a release tag was created"}],"\n"]}],"\n",["$","a",null,{"id":"org521573d"}],"\n",["$","h2",null,{"id":"creating-the-action-configuration","className":"min-w-0 box-border m-0 [font-family:var(--font-serif)] text-xl sm:text-2xl font-medium mt-2 mb-1","style":"$undefined","children":[["$","a",null,{"href":"#creating-the-action-configuration","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25 anchor","children":["$","span",null,{"className":"icon icon-link"}]}],"Creating the Action Configuration"]}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":["Create the file ",["$","code",null,{"children":".github/workflows/workflow.yml"}]]}],"\n",["$","a",null,{"id":"org9bc8afb"}],"\n",["$","h3",null,{"id":"checking-for-tag","className":"min-w-0 box-border m-0 [font-family:var(--font-serif)] text-xl sm:text-2xl font-normal mt-2 mb-1","style":"$undefined","children":[["$","a",null,{"href":"#checking-for-tag","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25 anchor","children":["$","span",null,{"className":"icon icon-link"}]}],"Checking for Tag"]}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":"This method simply builds and tests the package on any commit."}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":["Then if it finds a tag starting with ",["$","strong",null,{"children":"v","className":"font-semibold"}],", it will trigger a deploy."]}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":["So if a ",["$","a",null,{"href":"https://help.github.com/en/articles/creating-releases","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"GitHub Release"}]," is created with the tag ",["$","strong",null,{"children":"v2.3.4","className":"font-semibold"}],", it will trigger a deploy."]}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":"This is a bit naive however for my purposes I usually don't tag unless its a release."}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":"One advantage of checking for a tag this way is that it cuts down on unneeded builds as a whole build can only ever run 1 or 2 times (2 in the case a build is deployed)."}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":["The ",["$","a",null,{"href":"https://github.com/features/actions","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"GitHub Actions"}]," docs mentions being able to ",["$","a",null,{"href":"https://help.github.com/en/articles/workflow-syntax-for-github-actions#example-restricting-the-workflow-run-to-specific-refs-and-paths","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"restrict actions"}]," to certain branches or tags however I could not get this to work."]}],"\n",["$","div",null,{"data-rehype-pretty-code-fragment":"","children":["$","pre",null,{"data-language":"yaml","data-theme":"default","children":["$","code",null,{"data-language":"yaml","data-theme":"default","children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"name"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"build"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":" "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Name Action Build"}]]}],"\n",["$","span",null,{"className":"line","children":" "}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#DD672C"},"children":"on"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": ["}],["$","span",null,{"style":{"color":"#DD672C"},"children":"push"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"]  "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Trigger on push"}]]}],"\n",["$","span",null,{"className":"line","children":" "}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"jobs"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":":"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"  "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"run"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":":"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"runs-on"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"ubuntu-latest"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"                         "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Run on Ubuntu Docker image"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"steps"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":":"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    - "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"name"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"Checkout Repo"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"                          "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Checkout repo"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"uses"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"actions/checkout@v1"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    - "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"name"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"Use Node.js"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"                            "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Configure Node.js"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"uses"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"actions/setup-node@v1"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"with"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":":"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"        "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"node-version"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"'12.9'"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"                       "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Set Node.js Version"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"        "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"registry-url"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"'https://registry.npmjs.org'"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":" "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Set Node.js reigistry"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    - "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"name"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"Deploy Info"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"                            "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Print GitHub Deploy info"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"env"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":":"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"        "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"GITHUB_CONTEXT"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"$${{ toJson(github) }}"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"run"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"echo \"$GITHUB_CONTEXT\""}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    - "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"name"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"Install"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"                                "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Install dependancies"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"run"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"npm install"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    - "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"name"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"Build"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"                                  "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Build app if needed"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"run"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"npm run build --if-present"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    - "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"name"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"Test"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"run"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"npm run test --if-present"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"               "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Run tests if needed"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    - "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"name"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"Publish"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"if"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"startsWith(github.ref, 'refs/tags/v')"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"    "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Check if publish step should run"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"run"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"npm publish --access public"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"             "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Publish package"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"env"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":":"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"        "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"NODE_AUTH_TOKEN"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"$${{ secrets.NPM_AUTH_TOKEN }}"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":" "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Set NPM auth token from GitHub Secrets"}]]}]]}],"className":"rounded-xl mb-2.5 mt-2 [line-height:1.42] bg-[#111118] text-[#aaaaca] [overflow:auto] [overflow-wrap:normal] p-6 text-xs sm:text-sm"}]}],"\n",["$","a",null,{"id":"org2d248b4"}],"\n",["$","h3",null,{"id":"checking-for-a-release","className":"min-w-0 box-border m-0 [font-family:var(--font-serif)] text-xl sm:text-2xl font-normal mt-2 mb-1","style":"$undefined","children":[["$","a",null,{"href":"#checking-for-a-release","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25 anchor","children":["$","span",null,{"className":"icon icon-link"}]}],"Checking for a Release"]}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":["If you found the previous method too naive, you may want to check for a ",["$","a",null,{"href":"https://help.github.com/en/articles/creating-releases","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"GitHub Release"}]," before triggering a deploy."]}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":["The drawback to this is that a few extraneous builds will be triggered as the ",["$","code",null,{"children":"release"}]," event will fire both when the release is ",["$","code",null,{"children":"created"}]," and ",["$","code",null,{"children":"published"}],".  As far as I am aware this can not be restricted using the ",["$","code",null,{"children":"on"}]," property."]}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":["To ensure we only deploy once, we will indicate to only run the ",["$","strong",null,{"children":"Publish","className":"font-semibold"}]," step when a release is ",["$","code",null,{"children":"published"}],"."]}],"\n",["$","div",null,{"data-rehype-pretty-code-fragment":"","children":["$","pre",null,{"data-language":"yaml","data-theme":"default","children":["$","code",null,{"data-language":"yaml","data-theme":"default","children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"name"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"build"}]]}],"\n",["$","span",null,{"className":"line","children":" "}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#DD672C"},"children":"on"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":":"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"  "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"push"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":":     "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Run build on push (commit in most cases)"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"tag"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": [] "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Only run build if not tagged"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"  "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"release"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":":  "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Run build on release"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"tag"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":":"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    - "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"v*"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"    "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Check for release tag"}]]}],"\n",["$","span",null,{"className":"line","children":" "}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"jobs"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":":"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"  "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"run"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":":"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"runs-on"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"ubuntu-latest"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"                         "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Run on Ubuntu Docker image"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"steps"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":":"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    - "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"name"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"Checkout Repo"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"                          "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Checkout repo"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"uses"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"actions/checkout@v1"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    - "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"name"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"Use Node.js"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"                            "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Configure Node.js"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"uses"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"actions/setup-node@v1"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"with"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":":"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"        "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"node-version"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"'12.9'"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"                       "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Set Node.js Version"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"        "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"registry-url"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"'https://registry.npmjs.org'"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":" "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Set Node.js reigistry"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    - "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"name"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"Deploy Info"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"                            "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Print GitHub Deploy info"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"env"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":":"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"        "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"GITHUB_CONTEXT"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"$${{ toJson(github) }}"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"run"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"echo \"$GITHUB_CONTEXT\""}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    - "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"name"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"Install"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"                                "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Install dependancies"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"run"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"npm install"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    - "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"name"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"Build"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"                                  "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Build app if needed"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"run"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"npm run build --if-present"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    - "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"name"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"Test"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"run"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"npm run test --if-present"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"               "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Run tests if needed"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"    - "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"name"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"Publish"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"if"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"github.event_name == 'release' && github.event.action == 'published'"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":" "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Check if publish step should run"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"run"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"npm publish --access public"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"             "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Publish package"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"      "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"env"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":":"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"        "}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"NODE_AUTH_TOKEN"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":": "}],["$","span",null,{"style":{"color":"#DD672C"},"children":"$${{ secrets.NPM_AUTH_TOKEN }}"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":" "}],["$","span",null,{"style":{"color":"#787890","fontStyle":"italic"},"children":"# Set NPM auth token from GitHub Secrets"}]]}]]}],"className":"rounded-xl mb-2.5 mt-2 [line-height:1.42] bg-[#111118] text-[#aaaaca] [overflow:auto] [overflow-wrap:normal] p-6 text-xs sm:text-sm"}]}],"\n",["$","a",null,{"id":"org515fedd"}],"\n",["$","h2",null,{"id":"setting-npm-auth-token-secret","className":"min-w-0 box-border m-0 [font-family:var(--font-serif)] text-xl sm:text-2xl font-medium mt-2 mb-1","style":"$undefined","children":[["$","a",null,{"href":"#setting-npm-auth-token-secret","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25 anchor","children":["$","span",null,{"className":"icon icon-link"}]}],"Setting NPM Auth Token Secret"]}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":["Simply go to your repo ",["$","strong",null,{"children":"Settings","className":"font-semibold"}]," and select the ",["$","strong",null,{"children":"Secrets","className":"font-semibold"}]," tab."]}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":["Then ",["$","strong",null,{"children":"Add a new secret","className":"font-semibold"}]," with the ",["$","strong",null,{"children":"Name","className":"font-semibold"}]," of ",["$","code",null,{"children":"NPM_AUTH_TOKEN"}]," and set the ",["$","strong",null,{"children":"Value","className":"font-semibold"}]," to your ",["$","a",null,{"href":"https://docs.npmjs.com/creating-and-viewing-authentication-tokens","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"NPM token"}],"."]}],"\n",["$","a",null,{"id":"org5d470fc"}],"\n",["$","h2",null,{"id":"adding-the-github-actions-badge","className":"min-w-0 box-border m-0 [font-family:var(--font-serif)] text-xl sm:text-2xl font-medium mt-2 mb-1","style":"$undefined","children":[["$","a",null,{"href":"#adding-the-github-actions-badge","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25 anchor","children":["$","span",null,{"className":"icon icon-link"}]}],"Adding the GitHub Actions badge"]}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":[["$","a",null,{"href":"http://github.com","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"GitHub"}]," now offers an undocumented API which will return nice ",["$","a",null,{"href":"https://travis-ci.org/","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"Travis CI"}]," like status badge."]}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":["An example can be seen on the ",["$","a",null,{"href":"https://github.com/actions/toolkit","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"actions/toolkit"}]," repo."]}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":"The format for the API is as follows:"}],"\n",["$","div",null,{"data-rehype-pretty-code-fragment":"","children":["$","pre",null,{"data-language":"markdown","data-theme":"default","children":["$","code",null,{"data-language":"markdown","data-theme":"default","children":["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#AAAACA"},"children":"https://github.com/<user|org>/<repo>/<action_name>/badge.svg"}]}]}],"className":"rounded-xl mb-2.5 mt-2 [line-height:1.42] bg-[#111118] text-[#aaaaca] [overflow:auto] [overflow-wrap:normal] p-6 text-xs sm:text-sm"}]}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":["The ",["$","code",null,{"children":"action_name"}]," propery is the ",["$","code",null,{"children":"name"}]," field in the ",["$","a",null,{"href":"https://yaml.org/","target":"_blank","rel":"noopener noreferrer","className":"text-zinc-500 dark-mode:text-neutral-500 underline [text-underline-offset:5px] decoration-transparent decoration-wavy transition-[text-decoration-color] hover:decoration-zinc-500/10 dark-mode:hover:decoration-neutral-500/25","children":"YAML"}]," which in this case is ",["$","code",null,{"children":"build"}],"."]}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":"An example of this would be:"}],"\n",["$","div",null,{"data-rehype-pretty-code-fragment":"","children":["$","pre",null,{"data-language":"markdown","data-theme":"default","children":["$","code",null,{"data-language":"markdown","data-theme":"default","children":["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#AAAACA"},"children":"https://github.com/woofers/ludum-dare-badges/workflows/build/badge.svg"}]}]}],"className":"rounded-xl mb-2.5 mt-2 [line-height:1.42] bg-[#111118] text-[#aaaaca] [overflow:auto] [overflow-wrap:normal] p-6 text-xs sm:text-sm"}]}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":"To make it even nicer we can link the badge to our repo's actions page:"}],"\n",["$","div",null,{"data-rehype-pretty-code-fragment":"","children":["$","pre",null,{"data-language":"markdown","data-theme":"default","children":["$","code",null,{"data-language":"markdown","data-theme":"default","children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#AAAACA"},"children":"["}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"![img]("}],["$","span",null,{"style":{"color":"#FE8C52","textDecoration":"underline"},"children":"https://github.com/woofers/ludum-dare-badges/workflows/build/badge.svg"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":")"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":"]("}],["$","span",null,{"style":{"color":"#FE8C52","textDecoration":"underline"},"children":"https://github.com/woofers/ludum-dare-badges/actions"}],["$","span",null,{"style":{"color":"#AAAACA"},"children":")"}]]}]}],"className":"rounded-xl mb-2.5 mt-2 [line-height:1.42] bg-[#111118] text-[#aaaaca] [overflow:auto] [overflow-wrap:normal] p-6 text-xs sm:text-sm"}]}],"\n",["$","p",null,{"className":"min-w-0 box-border m-0 text-sm [line-height:1.375rem] sm:text-base sm:[line-height:1.75rem]","style":"$undefined","children":"It will look something like this:"}]]]]}]
