{"version":3,"sources":["webpack:///./src/pages/blog.js","webpack:///./src/components/title.js","webpack:///./src/components/page.js","webpack:///./src/components/content.js"],"names":["org","theme","css","margins","small","BlogIndex","sortedPosts","posts","this","props","data","allOrgContent","edges","date","node","meta","sort","a","b","func","safeCompare","Date","render","_posts","map","_ref","path","fields","title","startsWith","preview","cheerio","load","html","find","remove","Object","_emotion_core__WEBPACK_IMPORTED_MODULE_5__","marginBottom","medium","key","superSmall","gatsby__WEBPACK_IMPORTED_MODULE_7__","lineHeight","fonts","large","to","style","fontWeight","length","_components_content__WEBPACK_IMPORTED_MODULE_10__","color","colors","text","aria-label","continueReading","site","siteMetadata","_components_page__WEBPACK_IMPORTED_MODULE_9__","React","Component","pageQuery","Title","p","core_browser_esm","Helmet_default","property","content","children","Page","title_Title","Content","hide","_emotion_core__WEBPACK_IMPORTED_MODULE_1__","hideTitle","dangerouslySetInnerHTML","__html"],"mappings":"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","file":"component---src-pages-blog-js-7c3a6a780b6893587cb9.js","sourcesContent":["import React from 'react'\nimport { Link, graphql } from 'gatsby'\nimport { css } from '@emotion/core'\nimport cheerio from 'cheerio'\nimport { Page } from '../components/page'\nimport { Content } from '../components/content'\n\nconst org = theme => css`\n  div {\n    margin-bottom: ${theme.margins.small};\n  }\n`\n\nclass BlogIndex extends React.Component {\n  sortedPosts() {\n    let posts = this.props.data.allOrgContent.edges\n    const date = (node) => node.meta ? node.meta.date : ''\n    const safeCompare = (a, b, func) =>\n      (a || b) ? (!a ? 1 : !b ? -1 : func(a, b) ? 1 : -1) : 0;\n    posts.sort(function(a, b) {\n      return safeCompare(date(a.node), date(b.node), (a, b) => new Date(a) < new Date(b));\n    });\n    return posts\n  }\n\n  render() {\n    const continueReading = 'Continue reading'\n    const _posts = this.sortedPosts().map (({ node }) => {\n      const path = node.fields.path\n      const meta = node.meta\n      const title = meta.title || path\n      const include = '/blog/'\n      const date = meta.date\n      if (!path || !path.startsWith(include)) return null\n      let preview = cheerio.load(node.html)('p', 'body')\n      preview.find('h1').remove()\n      return (\n        <div css={ theme => ({ marginBottom: theme.margins.medium }) } key={path}>\n          <h1 css={ theme => ({ marginBottom: theme.margins.superSmall }) }>\n            <Link css={ theme => ({ lineHeight: theme.fonts.large }) } to={node.fields.path}>{title}</Link>\n          </h1>\n          {date ? <span style={{ fontWeight: 'bold' }}>{date}</span> : null }\n          { preview.length ?\n            <div>\n              <Content html={preview.html()} />\n              <Link css={ theme => ({ color: `${theme.colors.text} !important` }) } to={node.fields.path}\n                    aria-label={`${continueReading} ${title}`}>\n                  {continueReading} . . .\n              </Link>\n            </div>: null}\n        </div>\n      )\n    })\n    const site = this.props.data.site.siteMetadata.title\n    return (\n      <Page title='Posts' site={site}>\n        <div css={org}>\n          {_posts}\n        </div>\n      </Page>\n    )\n  }\n}\n\nexport default BlogIndex\n\nexport const pageQuery = graphql`\n  {\n    ...Title\n    allOrgContent {\n      edges {\n        node {\n          ...Content\n        }\n      }\n    }\n  }\n`\n","import React from 'react'\nimport Helmet from 'react-helmet'\n\nconst makeTitle = (title, site) => {\n  if (!title) return site\n  return `${title} - ${site}`\n}\n\nexport const Title = p => (\n  <div>\n    <Helmet>\n      <meta property=\"og:title\" content={p.title} />\n      <title>{makeTitle(p.title, p.site)}</title>\n    </Helmet>\n    {p.children}\n  </div>\n)\n","import React from 'react'\nimport { Title } from '../components/title'\n\nexport const Page = p => (\n  <Title title={p.title} site={p.site}>\n    <article>\n      {p.children}\n    </article>\n  </Title>\n)\n","import React from 'react'\nimport { css } from '@emotion/core'\n\nexport const Content = p => {\n  const hide = css`\n    div:first-of-type h1 {\n      display: none;\n    }\n  `\n  const org = theme => css`\n    ${p.hideTitle ? hide : ''}\n    div {\n      margin-bottom: ${theme.margins.small};\n      text-align: 'left';\n    }\n  `\n  return (\n    <div css={org}\n       dangerouslySetInnerHTML={{ __html: p.html }} />\n  )\n}\n"],"sourceRoot":""}