(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[450],{3215:(e,t,n)=>{Promise.resolve().then(n.bind(n,7952)),Promise.resolve().then(n.bind(n,4463)),Promise.resolve().then(n.bind(n,9832)),Promise.resolve().then(n.bind(n,3120)),Promise.resolve().then(n.bind(n,9365))},3440:function(e,t,n){(function(e,t){var n=t&&"object"==typeof t&&"default"in t?t:{default:t};function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var l={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(this&&this[n]||n);else if(Array.isArray(n))e.push(a.apply(this,n));else if("object"===o)if(n.toString===Object.prototype.toString)for(var i in n)l.call(n,i)&&n[i]&&e.push(this&&this[i]||i);else e.push(n.toString())}}return e.join(" ")}let i=a.bind({box:"_NxiT3",pointer:"_E8iY9",normal:"_QQ9pY",icon:"_Um5ym","icon-carts":"_QFSPl","icon-controls":"_2WDg5","icon-fullscreen":"_1Y9RU","icon-pause":"_rYHhP","icon-reset":"_77A5W","icon-sound":"_WvuDh"});var r=e=>{let{usePointer:t,onClick:o,button:l,title:a,onTitle:r,on:c,...u}=e,s=c?r:a||l;return n.default.createElement(e=>{let{children:l}=e;return"function"==typeof o?l:n.default.createElement("a",{className:i("box",{pointer:t,normal:!t}),role:"button",target:"_blank",rel:"noopener noreferrer",href:o,"aria-label":s},l)},null,n.default.createElement(e=>{let{children:l}=e;return"function"==typeof o?n.default.createElement("button",{className:i("box",{pointer:t,normal:!t}),onClick:"function"==typeof o?o:null,"aria-label":s},l):l},null,n.default.createElement("div",{className:i("icon",`icon-${l.toLowerCase()}`)})," ",l))};let c=a.bind({left:"_CBihP",right:"_aX-Dt",menu:"_8Gj9f","button-enabled":"_sRrb5",pointer:"_uSeRX",normal:"_6fvhd",mask:"_BUsHk","mask-selected":"_0BIBJ","icon-carts":"_xlXTt","icon-controls":"_9ESXJ","icon-fullscreen":"_9yD0Y","icon-pause0":"_nXbpl","icon-pause1":"_4Slq-","icon-reset":"_J7p3p","icon-sound0":"_CYPog","icon-sound":"_-naTm","icon-sound1":"_ZLgwy","icon-close":"_T-2mW"});var u=e=>{let t=e.button.toLowerCase()+(e.onTitle?e.on?"1":"0":"");return e.hidden?null:n.default.createElement(e=>{let{disabled:t,onClick:l,...a}=e;return t?n.default.createElement("div",a,e.children):"function"==typeof e.onClick?n.default.createElement("div",o({onClick:l},a),e.children):n.default.createElement("a",o({role:"button",target:"_blank",rel:"noopener noreferrer",href:l},a),e.children)},{disabled:e.disabled,title:e.on?e.onTitle:e.title,className:c("menu",{left:"left"===e.align,right:"right"===e.align,pointer:e.usePointer,normal:!e.usePointer})+" p8_menu_button",onClick:e.onClick},n.default.createElement("button",{disabled:e.disabled,className:c("mask",`icon-${t}`,{"mask-selected":e.selected,"button-enabled":!e.disabled})}))};let s=e=>n.default.createElement(e.legacyButtons?r:u,e),d=e=>n.default.createElement(s,o({},e,{button:"Reset",title:"Reset",onClick:e.reset})),w=e=>n.default.createElement(s,o({button:"Pause",onTitle:"Play",title:"Pause"},e,{onClick:e.pause,on:e.isPaused})),p=e=>n.default.createElement(s,o({button:"Fullscreen",title:"Go Fullscreen"},e,{onClick:e.fullscreen})),f=e=>n.default.createElement(s,o({button:"Sound",onTitle:"Mute",title:"Unmute"},e,{onClick:e.sound,on:!e.isMuted})),_=e=>n.default.createElement(s,o({},e,{button:"Carts",title:"More Carts",onClick:"http://www.lexaloffle.com/bbs/?cat=7&sub=2"})),m=e=>n.default.createElement(s,o({button:"Controls",title:"Controls"},e,{onClick:e.controls})),h=e=>n.default.createElement(n.default.Fragment,null,n.default.createElement(d,e),n.default.createElement(w,e),n.default.createElement(p,e),n.default.createElement(f,e),n.default.createElement(_,e),n.default.createElement(m,e)),b=e=>n.default.createElement(n.default.Fragment,null,n.default.createElement(m,e),n.default.createElement(w,e),n.default.createElement(f,e),n.default.createElement(p,e)),g=e=>n.default.createElement(e.legacyButtons?h:b,e);var v={box:"_qMiAj",img:"_CfVz3",center:"_rDVKx",pointer:"_zhnpw",normal:"_6jjhl"};let E=a.bind(v);var C=e=>{let{onClick:t,placeholder:o,usePointer:l,center:a,...i}=e,r=o?`rgba(0, 0, 0, 0) url(${o}) no-repeat scroll 0% 0% / cover`:"#000";return n.default.createElement("button",{className:E("box",{center:a,pointer:l,normal:!l}),title:"Start Game",style:{background:r},onClick:t,type:"button"},n.default.createElement("div",{className:v.img}))};let y=e=>e.toUpperCase().charCodeAt(0),k=[y("\r"),y("	"),y(" "),y("x"),y("z"),y("m"),y("r"),y("c"),y("v"),y("s"),y("f"),y("e"),y("d"),y("q"),y("w"),y("p")].concat([37,38,39,40]),x=e=>{k.indexOf(e.keyCode)>-1&&e.preventDefault()},P=a.bind({fullscreen:"_JcDUc",normal:"_BsPp-",canvas:"_kXWCq",none:"_GpXPA",center:"_JoK6F",margin:"_gAzLx"});var S=e=>n.default.createElement("div",{className:P({center:e.fullscreen||e.center,margin:e.center&&!e.legacyButtons&&!e.isFullscreen})},n.default.createElement("canvas",{className:P("canvas",{fullscreen:e.fullscreen,normal:!e.fullscreen,none:e.hasStarted&&e.hideCursor})+" emscripten",id:"canvas",onContextMenu:e=>e.preventDefault(),onKeyDown:x,tabIndex:"-1"}),e.children);let F=()=>{window.p8_autoplay=!1,window.pico8_state=[],window.pico8_buttons=[0,0,0,0,0,0,0,0],window.pico8_gamepads={count:0},window.pico8_mouse=[0,0,0],window.pico8_gpio=Array(128),window.p8_touch_detected=!1,window.Module={canvas:document.getElementById("canvas")},window.p8_is_running=!1,window.p8_script&&document.body.removeChild(window.p8_script),window.p8_script=null,window.pico8_audio_context&&window.pico8_audio_context.close(),window.pico8_audio_context=null},A=e=>window.p8_touch_detected=!0,N=(e,t,n)=>{window.addEventListener(e,t,n)},B=(e,t,n)=>{window.removeEventListener(e,t,n)};var R={hide:"_wk9CD",none:"_fiZQI","mobile-header":"_ld3F6",stack:"_sOepT",inline:"_rNdOG",center:"_pcXQn"};let M=a.bind(R),T={autoPlay:!0,legacyButtons:!1,placeholder:"",hideCursor:!1,center:!1,blockKeys:!1,usePointer:!0,unpauseOnReset:!0};e.Carts=_,e.Controls=m,e.Fullscreen=p,e.Pause=w,e.Pico8=e=>{let{className:o,css:l,...a}=e,i={...T,...a},[r,c]=t.useState(!0),[s,d]=t.useState(!1),w=e=>{d(e),e&&setTimeout(q,100)},[p,f]=t.useState(!0),[_,m]=t.useState(!1),[h,b]=t.useState(!1),v=()=>window.p8_run_cart(i.src);t.useEffect(()=>{var e,t;t=h&&i.blockKeys,B("keydown",x,e={passive:!1}),t&&N("keydown",x,e)});let E=()=>{s||w(!0)};t.useEffect(()=>(F(),window.addEventListener("touchstart",A,{passive:!0}),window.p8_create_audio_context=()=>{window.pico8_audio_context?window.pico8_audio_context.resume():(window.webAudioAPI=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.oAudioContext||window.msAudioContext,window.webAudioAPI&&(window.pico8_audio_context=new webAudioAPI,window.pico8_audio_context&&(window.source_sfx=pico8_audio_context.createBufferSource(),window.source_sfx.buffer=pico8_audio_context.createBuffer(1,1,22050),window.source_sfx.connect(pico8_audio_context.destination),window.source_sfx.start(1,Math.min(window.source_sfx.buffer.duration,.25)))))},window.p8_close_cart=()=>{window.p8_is_running=!1,window.p8_touch_detected=!1,window.Module.pico8SetPaused(1)},window.p8_run_cart=e=>{window.p8_is_running||(window.p8_is_running=!0,window.p8_create_audio_context(),window.p8_script=document.createElement("script"),window.p8_script.type="application/javascript",window.p8_script.src=e,document.body.appendChild(window.p8_script),window.p8_touch_detected&&(window.location.hash="#playing",window.onhashchange=()=>{0>window.location.hash.search("playing")&&window.p8_close_cart()}))},i.autoPlay&&(()=>{var e;let t=("undefined"!=typeof window&&(e=window.AudioContext||window.webkitAudioContext),e?new e:{});t.onstatechange=()=>{"running"==t.state&&(c(!1),f(!1),b(!0),v(),t.close())}})(),N("keydown",P,{passive:!1}),N("touchstart",E,{passive:!0}),N("webkitfullscreenchange",y,!1),N("mozfullscreenchange",y,!1),N("fullscreenchange",y,!1),N("MSFullscreenChange",y,!1),()=>{window.removeEventListener("touchstart",A,{passive:!0}),F(),B("keydown",P,{passive:!1}),B("touchstart",E,{passive:!0}),B("webkitfullscreenchange",y,!1),B("mozfullscreenchange",y,!1),B("fullscreenchange",y,!1),B("MSFullscreenChange",y,!1),B("keydown",x,{passive:!1})}),[]);let y=e=>{(e=>{for(let e of[document.webkitIsFullScreen,document.mozFullScreen,document.msFullscreenElement,document.fullscreenElement])if(!1===e)return void m(!1)})()},P=e=>{k.indexOf(e.keyCode)>-1&&O()},O=()=>{setTimeout(()=>f(!!window.pico8_state.is_paused),120)},j=()=>{c(!r),window.p8_create_audio_context(),window.Module.pico8ToggleSound()},q=()=>{var e;m(!0),(e=z.current).requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):e.msRequestFullScreen&&e.msRequestFullScreen()},D=()=>{window.Module.pico8TogglePaused(),O()},z=t.useRef(),{usePointer:L,legacyButtons:I}=i;return n.default.createElement("div",{css:l,className:o,style:i.style},n.default.createElement("canvas",{className:R.hide}),n.default.createElement("div",{id:"p8_container"},h?null:n.default.createElement(C,{center:i.center,placeholder:i.placeholder,onClick:()=>{h||(c(!1),f(!1),b(!0),v(),window.p8_create_audio_context())},usePointer:i.usePointer}),n.default.createElement("div",{ref:z,id:"p8_playarea",className:M({hide:!h,none:!h})},n.default.createElement("div",{id:"menu_buttons_touch",className:R["mobile-header"]},n.default.createElement(u,{align:"left",button:"Sound",onTitle:"Mute",title:"Unmute",on:!r,onClick:j,hidden:!s||!_}),n.default.createElement(u,{align:"right",button:"Close",title:"Close",onClick:()=>{b(!1),c(!1),f(!1),w(!1),window.p8_close_cart()},hidden:!s||!_})),n.default.createElement("div",null,n.default.createElement(S,{legacyButtons:i.legacyButtons,center:i.center,fullscreen:s&&_||_,hasStarted:h,hideCursor:i.hideCursor},s||_||!h?null:n.default.createElement("div",{className:M({stack:!i.legacyButtons,inline:i.legacyButtons,center:i.legacyButtons&&i.center})},n.default.createElement(e=>{let t=i.children;return!t||t.length<=0?n.default.createElement(g,e):n.default.Children.map(t,t=>n.default.cloneElement(t,e))},{usePointer:L,legacyButtons:I,isPaused:p,isMuted:r,pause:D,fullscreen:q,sound:j,controls:()=>{window.Module.pico8ToggleControlMenu(),O()},reset:()=>{p&&i.unpauseOnReset&&D(),setTimeout(window.Module.pico8Reset,20)}})))))))},e.Reset=d,e.Sound=f})(t,n(1589))},8778:(e,t,n)=>{{let t=n(3440),o={default:t.Pico8,Controls:t.Controls,Reset:t.Reset,Pause:t.Pause,Sound:t.Sound,Carts:t.Carts,Fullscreen:t.Fullscreen};Object.defineProperty(o,"__esModule",{value:!0}),e.exports=o}},9832:(e,t,n)=>{"use strict";n.d(t,{default:()=>i});var o=n(1825);n(1589);var l=n(8778),a=n.n(l);let i=e=>{let{center:t=!0,...n}=e;return(0,o.jsx)(a(),{...n,center:t,className:"my-4"})}}},e=>{e.O(0,[952,60,463,692,276,358],()=>e(e.s=3215)),_N_E=e.O()}]);