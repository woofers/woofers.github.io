(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4],{8946:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,n),l.l=!0,l.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(r,l,(function(t){return e[t]}).bind(null,l));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(t,n){t.exports=e},function(e,t,n){"use strict";n.r(t);var r=n(0),l=n.n(r),o=["host","game","type"];function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=function(e){var t=e.host,n=e.game,r=e.type,u=function(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,o),c="".concat(t,"/").concat(n,"/badge.").concat(r),i=n.substring(n.indexOf("/")+1);return l.a.createElement("img",a({src:c,alt:"".concat(i," Ludum Dare results")},u))};u.defaultProps={host:"https://badges.jaxs.onl",type:"svg"},t.default=u}])},e.exports=r(n(7294))},1791:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects/[project]/play",function(){return n(8495)}])},8495:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return E},default:function(){return _}});var r=n(5893),l=n(7786);n(7294);var o=n(2161),a=n(6042),u=n(9396),c=n(9534),i=(0,o.zo)("iframe",{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),s=(0,o.zo)("div",{textAlign:"center",margin:"2px 0 23px 0",position:"relative"}),d=function(e){var t=e.aspectRatio,n=e.title,l=(0,c.Z)(e,["aspectRatio","title"]);return(0,r.jsx)(s,{css:{color:"currentColor",paddingBottom:"".concat(100/t,"%")},children:(0,r.jsx)(i,(0,u.Z)((0,a.Z)({},l),{title:n,frameBorder:"0",allowFullScreen:!0}))})};d.defaultProps={aspectRatio:16/9};var p=d,f=n(2300),m=n.n(f),$=(0,o.zo)(m(),{margin:"16px 0",".p8_menu_button":{display:"inline",button:{background:"#696068"},"&:hover":{button:{background:"#9c949b"}}},".p8_menu_button img":{borderRadius:"0",maxWidth:"none"},"#p8_container":{"> button":{img:{marginBottom:"auto"},div:{br:"25px"}}},"#p8_playarea > div:last-of-type > div":{ml:0},"#canvas":{margin:"0 auto",br:"25px"},"#canvas + div":{display:"inline-block",marginLeft:"0",marginTop:"12.5px"}}),h=function(e){var t=e.center,n=(0,c.Z)(e,["center"]);return(0,r.jsx)($,(0,u.Z)((0,a.Z)({},n),{center:void 0===t||t}))},g=n(8946),v=n.n(g),b=n(1316),y=(0,o.zo)("div",{variants:{orientation:{portrait:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(0px, 463px))",gridColumnGap:"50px",gridRowGap:"6px",justifyContent:"center"},landscape:{}}}}),x=function(e){var t=e.portrait,n=e.lang,l=e.title,o=e.src,a=e.instruction,u=e.ludumDare,c=e.placeholder,i="pico"===n;return(0,r.jsxs)(y,{orientation:t&&!i?"portrait":"landscape",children:[i?(0,r.jsx)(h,{src:o,placeholder:c}):(0,r.jsx)(p,{aspectRatio:t?9/16:16/9,title:l,src:o}),(0,r.jsx)(b.Z,{content:a}),u&&(0,r.jsx)(v(),{game:e.ludumDare})]})},E=!0,_=function(e){var t=e.project,n=t.meta,o=n.title,a=(n.icon,n.landscape),u=n.lang,c=n.game,i=n.placeholder;n.icon_mode,n.icon_type;var s=n.ludum_dare;return(0,r.jsx)(l.Z,{title:o,children:(0,r.jsx)(x,{title:o,src:c,portrait:"nil"===a,instruction:t.content,lang:u,ludumDare:s,placeholder:i})})}},2300:function(e,t,n){{let r=n(5144),l={default:r.Pico8,Controls:r.Controls,Reset:r.Reset,Pause:r.Pause,Sound:r.Sound,Carts:r.Carts,Fullscreen:r.Fullscreen};Object.defineProperty(l,"__esModule",{value:!0}),e.exports=l}},5144:function(e,t,n){var r;(r=function(e,t){var n,r=(n=t)&&"object"==typeof n&&"default"in n?n:{default:n};function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(this&&this[n]||n);else if(Array.isArray(n))e.push(a.apply(this,n));else if("object"===r){if(n.toString===Object.prototype.toString)for(var l in n)o.call(n,l)&&n[l]&&e.push(this&&this[l]||l);else e.push(n.toString())}}}return e.join(" ")}let u=a.bind({box:"_NxiT3",pointer:"_E8iY9",normal:"_QQ9pY",icon:"_Um5ym","icon-carts":"_QFSPl","icon-controls":"_2WDg5","icon-fullscreen":"_1Y9RU","icon-pause":"_rYHhP","icon-reset":"_77A5W","icon-sound":"_WvuDh"});var c=e=>{let{usePointer:t,onClick:n,button:l,title:o,onTitle:a,on:c,...i}=e,s=()=>"function"==typeof n,d=c?a:o||l;return r.default.createElement(e=>{let{children:l}=e;return s()?l:r.default.createElement("a",{className:u("box",{pointer:t,normal:!t}),role:"button",target:"_blank",rel:"noopener noreferrer",href:n,"aria-label":d},l)},null,r.default.createElement(e=>{let{children:l}=e;return s()?r.default.createElement("button",{className:u("box",{pointer:t,normal:!t}),onClick:s()?n:null,"aria-label":d},l):l},null,r.default.createElement("div",{className:u("icon","icon-"+l.toLowerCase())})," ",l))};let i=a.bind({left:"_CBihP",right:"_aX-Dt",menu:"_8Gj9f","button-enabled":"_sRrb5",pointer:"_uSeRX",normal:"_6fvhd",mask:"_BUsHk","mask-selected":"_0BIBJ","icon-carts":"_xlXTt","icon-controls":"_9ESXJ","icon-fullscreen":"_9yD0Y","icon-pause0":"_nXbpl","icon-pause1":"_4Slq-","icon-reset":"_J7p3p","icon-sound0":"_CYPog","icon-sound":"_-naTm","icon-sound1":"_ZLgwy","icon-close":"_T-2mW"});var s=e=>{let t=e.button.toLowerCase()+(e.onTitle?e.on?"1":"0":"");if(e.hidden)return null;let n=e=>{let{disabled:t,onClick:n,...o}=e;return t?r.default.createElement("div",o,e.children):"function"==typeof e.onClick?r.default.createElement("div",l({onClick:n},o),e.children):r.default.createElement("a",l({role:"button",target:"_blank",rel:"noopener noreferrer",href:n},o),e.children)};return r.default.createElement(n,{disabled:e.disabled,title:e.on?e.onTitle:e.title,className:i("menu",{left:"left"===e.align,right:"right"===e.align,pointer:e.usePointer,normal:!e.usePointer})+" p8_menu_button",onClick:e.onClick},r.default.createElement("button",{disabled:e.disabled,className:i("mask","icon-"+t,{"mask-selected":e.selected,"button-enabled":!e.disabled})}))};let d=e=>r.default.createElement(e.legacyButtons?c:s,e),p=e=>r.default.createElement(d,l({},e,{button:"Reset",title:"Reset",onClick:e.reset})),f=e=>r.default.createElement(d,l({button:"Pause",onTitle:"Play",title:"Pause"},e,{onClick:e.pause,on:e.isPaused})),m=e=>r.default.createElement(d,l({button:"Fullscreen",title:"Go Fullscreen"},e,{onClick:e.fullscreen})),$=e=>r.default.createElement(d,l({button:"Sound",onTitle:"Mute",title:"Unmute"},e,{onClick:e.sound,on:!e.isMuted})),h=e=>r.default.createElement(d,l({},e,{button:"Carts",title:"More Carts",onClick:"http://www.lexaloffle.com/bbs/?cat=7&sub=2"})),g=e=>r.default.createElement(d,l({button:"Controls",title:"Controls"},e,{onClick:e.controls})),v=e=>r.default.createElement(r.default.Fragment,null,r.default.createElement(p,e),r.default.createElement(f,e),r.default.createElement(m,e),r.default.createElement($,e),r.default.createElement(h,e),r.default.createElement(g,e)),b=e=>r.default.createElement(r.default.Fragment,null,r.default.createElement(g,e),r.default.createElement(f,e),r.default.createElement($,e),r.default.createElement(m,e)),y=e=>r.default.createElement(e.legacyButtons?v:b,e);var x={box:"_qMiAj",img:"_CfVz3",center:"_rDVKx",pointer:"_zhnpw",normal:"_6jjhl"};let E=a.bind(x);var _=e=>{let{onClick:t,placeholder:n,usePointer:l,center:o,...a}=e;return r.default.createElement("button",{className:E("box",{center:o,pointer:l,normal:!l}),title:"Start Game",style:{background:n?"rgba(0, 0, 0, 0) url("+n+") no-repeat scroll 0% 0% / cover":"#000"},onClick:t,type:"button"},r.default.createElement("div",{className:x.img}))};let C=e=>e.toUpperCase().charCodeAt(0),k=[C("\r"),C("	"),C(" "),C("x"),C("z"),C("m"),C("r"),C("c"),C("v"),C("s"),C("f"),C("e"),C("d"),C("q"),C("w"),C("p")].concat([37,38,39,40]),P=e=>{k.indexOf(e.keyCode)>-1&&e.preventDefault()},S=a.bind({fullscreen:"_JcDUc",normal:"_BsPp-",canvas:"_kXWCq",none:"_GpXPA",center:"_JoK6F",margin:"_gAzLx"});var w=e=>r.default.createElement("div",{className:S({center:e.fullscreen||e.center,margin:e.center&&!e.legacyButtons&&!e.isFullscreen})},r.default.createElement("canvas",{className:S("canvas",{fullscreen:e.fullscreen,normal:!e.fullscreen,none:e.hasStarted&&e.hideCursor})+" emscripten",id:"canvas",onContextMenu:e=>e.preventDefault(),onKeyDown:P,tabIndex:"-1"}),e.children);let F=()=>{window.p8_autoplay=!1,window.pico8_state=[],window.pico8_buttons=[0,0,0,0,0,0,0,0],window.pico8_gamepads={count:0},window.pico8_mouse=[0,0,0],window.pico8_gpio=Array(128),window.p8_touch_detected=!1,window.Module={canvas:document.getElementById("canvas")},window.p8_is_running=!1,window.p8_script&&document.body.removeChild(window.p8_script),window.p8_script=null,window.pico8_audio_context&&window.pico8_audio_context.close(),window.pico8_audio_context=null},R=e=>window.p8_touch_detected=!0,j=(e,t,n)=>{window.addEventListener(e,t,n)},B=(e,t,n)=>{window.removeEventListener(e,t,n)};var N={hide:"_wk9CD",none:"_fiZQI","mobile-header":"_ld3F6",stack:"_sOepT",inline:"_rNdOG",center:"_pcXQn"};let M=a.bind(N),T=e=>{let{className:n,css:l,...o}=e,[a,u]=t.useState(!0),[c,i]=t.useState(!1),d=e=>{i(e),e&&setTimeout(T,100)},[p,f]=t.useState(!0),[m,$]=t.useState(!1),[h,g]=t.useState(!1),v=()=>window.p8_run_cart(o.src);t.useEffect(()=>{var e,t,n;n=h&&o.blockKeys,B("keydown",e=P,t={passive:!1}),n&&j("keydown",e,t)});let b=()=>{c||d(!0)};t.useEffect(()=>{var e,t;return F(),window.addEventListener("touchstart",R,{passive:!0}),window.p8_create_audio_context=()=>{window.pico8_audio_context?window.pico8_audio_context.resume():(window.webAudioAPI=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.oAudioContext||window.msAudioContext,window.webAudioAPI&&(window.pico8_audio_context=new webAudioAPI,window.pico8_audio_context&&(window.source_sfx=pico8_audio_context.createBufferSource(),window.source_sfx.buffer=pico8_audio_context.createBuffer(1,1,22050),window.source_sfx.connect(pico8_audio_context.destination),window.source_sfx.start(1,Math.min(window.source_sfx.buffer.duration,.25)))))},window.p8_close_cart=()=>{window.p8_is_running=!1,window.p8_touch_detected=!1,window.Module.pico8SetPaused(1)},window.p8_run_cart=e=>{window.p8_is_running||(window.p8_is_running=!0,window.p8_create_audio_context(),window.p8_script=document.createElement("script"),window.p8_script.type="application/javascript",window.p8_script.src=e,document.body.appendChild(window.p8_script),window.p8_touch_detected&&(window.location.hash="#playing",window.onhashchange=()=>{0>window.location.hash.search("playing")&&window.p8_close_cart()}))},o.autoPlay&&(()=>{var e;let t=("undefined"!=typeof window&&(e=window.AudioContext||window.webkitAudioContext),e?new e:{});t.onstatechange=()=>{"running"==t.state&&(u(!1),f(!1),g(!0),v(),t.close())}})(),j("keydown",E,{passive:!1}),j("touchstart",b,{passive:!0}),j("webkitfullscreenchange",e=x,t=!1),j("mozfullscreenchange",e,t),j("fullscreenchange",e,t),j("MSFullscreenChange",e,t),()=>{var e,t;window.removeEventListener("touchstart",R,{passive:!0}),F(),B("keydown",E,{passive:!1}),B("touchstart",b,{passive:!0}),e=x,B("webkitfullscreenchange",e,t=!1),B("mozfullscreenchange",e,t),B("fullscreenchange",e,t),B("MSFullscreenChange",e,t),B("keydown",P,{passive:!1})}},[]);let x=e=>{(e=>{let t=[document.webkitIsFullScreen,document.mozFullScreen,document.msFullscreenElement,document.fullscreenElement];for(let n of t)if(!1===n)return void $(!1)})()},E=e=>{k.indexOf(e.keyCode)>-1&&C()},C=()=>{setTimeout(()=>f(!!window.pico8_state.is_paused),120)},S=()=>{u(!a),window.p8_create_audio_context(),window.Module.pico8ToggleSound()},T=()=>{var e;$(!0),(e=O.current).requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):e.msRequestFullScreen&&e.msRequestFullScreen()},A=()=>{window.Module.pico8TogglePaused(),C()},O=t.useRef(),{usePointer:D,legacyButtons:z}=o,q=e=>{let t=o.children;return!t||t.length<=0?r.default.createElement(y,e):r.default.Children.map(t,t=>r.default.cloneElement(t,e))};return r.default.createElement("div",{css:l,className:n,style:o.style},r.default.createElement("canvas",{className:N.hide}),r.default.createElement("div",{id:"p8_container"},h?null:r.default.createElement(_,{center:o.center,placeholder:o.placeholder,onClick(){h||(u(!1),f(!1),g(!0),v(),window.p8_create_audio_context())},usePointer:o.usePointer}),r.default.createElement("div",{ref:O,id:"p8_playarea",className:M({hide:!h,none:!h})},r.default.createElement("div",{id:"menu_buttons_touch",className:N["mobile-header"]},r.default.createElement(s,{align:"left",button:"Sound",onTitle:"Mute",title:"Unmute",on:!a,onClick:S,hidden:!c||!m}),r.default.createElement(s,{align:"right",button:"Close",title:"Close",onClick(){g(!1),u(!1),f(!1),d(!1),window.p8_close_cart()},hidden:!c||!m})),r.default.createElement("div",null,r.default.createElement(w,{legacyButtons:o.legacyButtons,center:o.center,fullscreen:c&&m||m,hasStarted:h,hideCursor:o.hideCursor},c||m||!h?null:r.default.createElement("div",{className:M({stack:!o.legacyButtons,inline:o.legacyButtons,center:o.legacyButtons&&o.center})},r.default.createElement(q,{usePointer:D,legacyButtons:z,isPaused:p,isMuted:a,pause:A,fullscreen:T,sound:S,controls(){window.Module.pico8ToggleControlMenu(),C()},reset(){p&&o.unpauseOnReset&&A(),setTimeout(window.Module.pico8Reset,20)}})))))))};T.defaultProps={autoPlay:!0,legacyButtons:!1,placeholder:"",hideCursor:!1,center:!1,blockKeys:!1,usePointer:!0,unpauseOnReset:!0},e.Carts=h,e.Controls=g,e.Fullscreen=m,e.Pause=f,e.Pico8=T,e.Reset=p,e.Sound=$})(t,n(7294))}},function(e){e.O(0,[993,774,888,179],function(){return e(e.s=1791)}),_N_E=e.O()}]);